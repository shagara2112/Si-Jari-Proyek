{"ast":null,"code":"import _objectSpread from\"D:/2. Aplikasi/Si-Jari-Proyek/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{createClient}from'@supabase/supabase-js';// Initialize Supabase client\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const supabaseUrl=process.env.REACT_APP_SUPABASE_URL||'https://hjllwagynjjhifufvpvg.supabase.co';const supabaseAnonKey=process.env.REACT_APP_SUPABASE_ANON_KEY||'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhqbGx3YWd5bmpqaGlmdWZ2cHZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMDM2MDcsImV4cCI6MjA3MzU3OTYwN30.IFlDZ9pWNsucKM2uwzAh4zCm31ZUMtId4LPKs1r-qU0';const supabase=createClient(supabaseUrl,supabaseAnonKey);const App=()=>{// State for authentication\nconst[user,setUser]=useState(null);const[loading,setLoading]=useState(true);const[loginEmail,setLoginEmail]=useState('');const[loginPassword,setLoginPassword]=useState('');const[signupData,setSignupData]=useState({email:'',password:'',name:'',role:'Project Proposer',department:'IT Department'});// State for application data\nconst[projects,setProjects]=useState([]);const[selectedProject,setSelectedProject]=useState(null);const[activeTab,setActiveTab]=useState('dashboard');const[newProject,setNewProject]=useState({title:'',description:'',budget:'',timeline:'',department:''});const[newComment,setNewComment]=useState('');const[newMilestone,setNewMilestone]=useState({name:'',dueDate:'',description:''});const[newIssue,setNewIssue]=useState({description:''});const[newUpdate,setNewUpdate]=useState('');// Departments and roles for dropdowns\nconst departments=['IT Department','Finance','Legal','Operations','HR','Marketing','Sales'];const roles=['Project Proposer','Finance','Legal','Operations','Director','Administrator'];// Initialize - check for existing session\nuseEffect(()=>{const checkUser=async()=>{try{var _session$user;const{data:{session}}=await supabase.auth.getSession();setUser((_session$user=session===null||session===void 0?void 0:session.user)!==null&&_session$user!==void 0?_session$user:null);setLoading(false);}catch(error){console.error('Error checking session:',error);setLoading(false);}};checkUser();// Listen for auth changes\nconst{data:{subscription}}=supabase.auth.onAuthStateChange((_event,session)=>{var _session$user2;setUser((_session$user2=session===null||session===void 0?void 0:session.user)!==null&&_session$user2!==void 0?_session$user2:null);});return()=>{subscription.unsubscribe();};},[]);// Fetch projects when user changes\nuseEffect(()=>{if(user){fetchProjects();}},[user]);// Fetch projects based on user role\nconst fetchProjects=async()=>{try{if(!user)return;// Get user profile to determine role\nconst{data:userProfile,error:profileError}=await supabase.from('user_profiles').select('*').eq('user_id',user.id).single();if(profileError&&profileError.code!=='PGRST116'){console.error('Error fetching user profile:',profileError);return;}// If user profile doesn't exist, create one\nif(!userProfile){const{error:createError}=await supabase.from('user_profiles').insert({user_id:user.id,name:user.email.split('@')[0],email:user.email,role:'Project Proposer',department:'IT Department'});if(createError){console.error('Error creating user profile:',createError);return;}}let query=supabase.from('projects').select(\"\\n          *,\\n          user_profiles!projects_submitter_id_fkey (name, role, department),\\n          reviewers (*),\\n          risk_analysis (*),\\n          milestones (*),\\n          issues (*),\\n          updates (*),\\n          discussions (*)\\n        \").order('created_at',{ascending:false});// Filter based on user role\nif((userProfile===null||userProfile===void 0?void 0:userProfile.role)==='Project Proposer'){query=query.eq('submitter_id',user.id);}else if((userProfile===null||userProfile===void 0?void 0:userProfile.role)!=='Director'&&(userProfile===null||userProfile===void 0?void 0:userProfile.role)!=='Administrator'){// Reviewers can see projects where they are assigned as reviewers\nconst{data:reviewerProjects,error:reviewerError}=await supabase.from('reviewers').select('project_id').eq('reviewer_id',user.id);if(reviewerError){console.error('Error fetching reviewer projects:',reviewerError);return;}const projectIds=reviewerProjects.map(r=>r.project_id);if(projectIds.length>0){query=query.in('id',projectIds);}else{// Return empty array if no projects assigned\nsetProjects([]);return;}}// Directors and Administrators can see all projects\nconst{data,error}=await query;if(error){console.error('Error fetching projects:',error);return;}// Process and format the data\nconst formattedProjects=(data||[]).map(project=>{var _project$user_profile,_project$user_profile2,_project$user_profile3;return _objectSpread(_objectSpread({},project),{},{submitter:((_project$user_profile=project.user_profiles)===null||_project$user_profile===void 0?void 0:_project$user_profile.name)||'Unknown',submitterRole:((_project$user_profile2=project.user_profiles)===null||_project$user_profile2===void 0?void 0:_project$user_profile2.role)||'Project Proposer',submitterDepartment:((_project$user_profile3=project.user_profiles)===null||_project$user_profile3===void 0?void 0:_project$user_profile3.department)||'IT Department',reviewers:project.reviewers||[],riskAnalysis:{financial:(project.risk_analysis||[]).find(r=>r.category==='financial')||{risk:'Not assessed',mitigation:''},legal:(project.risk_analysis||[]).find(r=>r.category==='legal')||{risk:'Not assessed',mitigation:''},technical:(project.risk_analysis||[]).find(r=>r.category==='technical')||{risk:'Not assessed',mitigation:''},operational:(project.risk_analysis||[]).find(r=>r.category==='operational')||{risk:'Not assessed',mitigation:''}},actualWork:{startDate:project.start_date||'',endDate:project.end_date||'',progress:project.progress||0,milestones:project.milestones||[],budgetSpent:project.budget_spent||0,issues:project.issues||[],updates:project.updates||[]},discussions:project.discussions||[]});});setProjects(formattedProjects);}catch(error){console.error('Error in fetchProjects:',error);}};// Handle login\nconst handleLogin=async e=>{e.preventDefault();try{const{data,error}=await supabase.auth.signInWithPassword({email:loginEmail,password:loginPassword});if(error)throw error;setUser(data.user);}catch(error){alert('Login failed: '+error.message);}};// Handle signup\nconst handleSignup=async e=>{e.preventDefault();try{const{data,error}=await supabase.auth.signUp({email:signupData.email,password:signupData.password});if(error)throw error;// Create user profile\nif(data.user){const{error:profileError}=await supabase.from('user_profiles').insert({user_id:data.user.id,name:signupData.name,email:signupData.email,role:signupData.role,department:signupData.department});if(profileError)throw profileError;alert('Account created successfully! Please check your email for confirmation.');}}catch(error){alert('Signup failed: '+error.message);}};// Handle logout\nconst handleLogout=async()=>{try{const{error}=await supabase.auth.signOut();if(error)throw error;setUser(null);setActiveTab('dashboard');}catch(error){console.error('Logout error:',error);}};// Submit new project\nconst handleProjectSubmission=async e=>{e.preventDefault();if(!user)return;try{// Insert project\nconst{data:projectData,error:projectError}=await supabase.from('projects').insert({title:newProject.title,description:newProject.description,budget:parseFloat(newProject.budget),timeline:newProject.timeline,department:newProject.department,submitter_id:user.id,status:'pending_review',progress:0}).select().single();if(projectError)throw projectError;// Add default reviewers (in a real app, you might want to make this configurable)\n// Get reviewer user IDs for each department\nconst reviewerRoles=[{department:'Finance',role:'Finance'},{department:'Legal',role:'Legal'},{department:'Operations',role:'Operations'}];for(let reviewerRole of reviewerRoles){const{data:reviewerData,error:reviewerError}=await supabase.from('user_profiles').select('user_id').eq('role',reviewerRole.role).eq('department',reviewerRole.department).limit(1).single();if(!reviewerError&&reviewerData){await supabase.from('reviewers').insert({project_id:projectData.id,reviewer_id:reviewerData.user_id,department:reviewerRole.department,status:'pending',comment:''});}}// Initialize risk analysis\nconst riskCategories=['financial','legal','technical','operational'];for(let category of riskCategories){await supabase.from('risk_analysis').insert({project_id:projectData.id,category:category,risk:'Not assessed',mitigation:''});}// Reset form and refresh projects\nsetNewProject({title:'',description:'',budget:'',timeline:'',department:''});await fetchProjects();setActiveTab('dashboard');alert('Project submitted successfully!');}catch(error){console.error('Error submitting project:',error);alert('Failed to submit project: '+error.message);}};// Handle review action\nconst handleReviewAction=async function(projectId,action){let comment=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';if(!user)return;try{const{error}=await supabase.from('reviewers').update({status:action,comment:comment,updated_at:new Date().toISOString()}).eq('project_id',projectId).eq('reviewer_id',user.id);if(error)throw error;// Check if all reviewers have responded\nconst{data:allReviewers,error:reviewersError}=await supabase.from('reviewers').select('status').eq('project_id',projectId);if(reviewersError)throw reviewersError;const allReviewed=allReviewers.every(r=>r.status!=='pending');const hasRejection=allReviewers.some(r=>r.status==='rejected');if(allReviewed){const projectStatus=hasRejection?'rejected':'pending_director';await supabase.from('projects').update({status:projectStatus}).eq('id',projectId);}await fetchProjects();}catch(error){console.error('Error updating review:',error);alert('Failed to update review: '+error.message);}};// Handle director action\nconst handleDirectorAction=async function(projectId,action){let comment=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';if(!user)return;try{// Get user profile to verify role\nconst{data:userProfile,error:profileError}=await supabase.from('user_profiles').select('role').eq('user_id',user.id).single();if(profileError)throw profileError;if(userProfile.role!=='Director'){throw new Error('Only directors can approve or reject projects');}const{error}=await supabase.from('projects').update({status:action,director_comment:comment,director_id:user.id,updated_at:new Date().toISOString()}).eq('id',projectId);if(error)throw error;await fetchProjects();}catch(error){console.error('Error updating director decision:',error);alert('Failed to update director decision: '+error.message);}};// Add comment to project\nconst addComment=async projectId=>{if(!newComment.trim()||!user)return;try{// Get user profile for name\nconst{data:userProfile,error:profileError}=await supabase.from('user_profiles').select('name').eq('user_id',user.id).single();if(profileError)throw profileError;const{error}=await supabase.from('discussions').insert({project_id:projectId,user_id:user.id,user_name:userProfile.name,comment:newComment,created_at:new Date().toISOString()});if(error)throw error;setNewComment('');await fetchProjects();}catch(error){console.error('Error adding comment:',error);alert('Failed to add comment: '+error.message);}};// Add milestone to project\nconst addMilestone=async projectId=>{if(!newMilestone.name||!newMilestone.dueDate||!user)return;try{const{error}=await supabase.from('milestones').insert({project_id:projectId,name:newMilestone.name,due_date:newMilestone.dueDate,description:newMilestone.description,status:'not_started',created_at:new Date().toISOString()});if(error)throw error;setNewMilestone({name:'',dueDate:'',description:''});await fetchProjects();}catch(error){console.error('Error adding milestone:',error);alert('Failed to add milestone: '+error.message);}};// Update milestone status\nconst updateMilestoneStatus=async(projectId,milestoneId,status)=>{if(!user)return;try{const completionDate=status==='completed'?new Date().toISOString():null;const{error}=await supabase.from('milestones').update({status:status,completion_date:completionDate,updated_at:new Date().toISOString()}).eq('id',milestoneId).eq('project_id',projectId);if(error)throw error;// Calculate and update project progress\nconst{data:allMilestones,error:milestonesError}=await supabase.from('milestones').select('status').eq('project_id',projectId);if(milestonesError)throw milestonesError;const completedCount=allMilestones.filter(m=>m.status==='completed').length;const progress=allMilestones.length>0?Math.round(completedCount/allMilestones.length*100):0;await supabase.from('projects').update({progress:progress}).eq('id',projectId);await fetchProjects();}catch(error){console.error('Error updating milestone:',error);alert('Failed to update milestone: '+error.message);}};// Add issue to project\nconst addIssue=async projectId=>{if(!newIssue.description||!user)return;try{// Get user profile for name\nconst{data:userProfile,error:profileError}=await supabase.from('user_profiles').select('name').eq('user_id',user.id).single();if(profileError)throw profileError;const{error}=await supabase.from('issues').insert({project_id:projectId,description:newIssue.description,reported_by:userProfile.name,status:'open',created_at:new Date().toISOString()});if(error)throw error;setNewIssue({description:''});await fetchProjects();}catch(error){console.error('Error adding issue:',error);alert('Failed to add issue: '+error.message);}};// Resolve issue\nconst resolveIssue=async(projectId,issueId,resolution)=>{if(!user)return;try{const{error}=await supabase.from('issues').update({status:'resolved',resolution:resolution,resolved_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq('id',issueId).eq('project_id',projectId);if(error)throw error;await fetchProjects();}catch(error){console.error('Error resolving issue:',error);alert('Failed to resolve issue: '+error.message);}};// Add update to project\nconst addUpdate=async projectId=>{if(!newUpdate.trim()||!user)return;try{// Get user profile for name\nconst{data:userProfile,error:profileError}=await supabase.from('user_profiles').select('name').eq('user_id',user.id).single();if(profileError)throw profileError;const{error}=await supabase.from('updates').insert({project_id:projectId,update_text:newUpdate,author:userProfile.name,created_at:new Date().toISOString()});if(error)throw error;setNewUpdate('');await fetchProjects();}catch(error){console.error('Error adding update:',error);alert('Failed to add update: '+error.message);}};// Start project\nconst startProject=async projectId=>{if(!user)return;try{// Verify user is the project owner or admin\nconst{data:project,error:projectError}=await supabase.from('projects').select('submitter_id').eq('id',projectId).single();if(projectError)throw projectError;const{data:userProfile,error:profileError}=await supabase.from('user_profiles').select('role').eq('user_id',user.id).single();if(profileError)throw profileError;if(project.submitter_id!==user.id&&userProfile.role!=='Administrator'){throw new Error('Only project owners or administrators can start projects');}const{error}=await supabase.from('projects').update({start_date:new Date().toISOString(),status:'in_progress',updated_at:new Date().toISOString()}).eq('id',projectId);if(error)throw error;await fetchProjects();}catch(error){console.error('Error starting project:',error);alert('Failed to start project: '+error.message);}};// Complete project\nconst completeProject=async projectId=>{if(!user)return;try{// Verify user is the project owner or admin\nconst{data:project,error:projectError}=await supabase.from('projects').select('submitter_id').eq('id',projectId).single();if(projectError)throw projectError;const{data:userProfile,error:profileError}=await supabase.from('user_profiles').select('role').eq('user_id',user.id).single();if(profileError)throw profileError;if(project.submitter_id!==user.id&&userProfile.role!=='Administrator'){throw new Error('Only project owners or administrators can complete projects');}const{error}=await supabase.from('projects').update({end_date:new Date().toISOString(),status:'completed',progress:100,updated_at:new Date().toISOString()}).eq('id',projectId);if(error)throw error;await fetchProjects();}catch(error){console.error('Error completing project:',error);alert('Failed to complete project: '+error.message);}};// Get status color based on status\nconst getStatusColor=status=>{switch(status){case'approved':return'bg-green-100 text-green-800';case'rejected':return'bg-red-100 text-red-800';case'pending':return'bg-yellow-100 text-yellow-800';case'pending_review':return'bg-blue-100 text-blue-800';case'completed':return'bg-green-100 text-green-800';case'in_progress':return'bg-blue-100 text-blue-800';case'not_started':return'bg-gray-100 text-gray-800';case'delayed':return'bg-orange-100 text-orange-800';case'resolved':return'bg-green-100 text-green-800';case'open':return'bg-red-100 text-red-800';default:return'bg-gray-100 text-gray-800';}};// Get project status\nconst getProjectStatus=project=>{return project.status;};// Check if user can review a project\nconst canReviewProject=project=>{var _project$reviewers;if(!user)return false;const reviewer=(_project$reviewers=project.reviewers)===null||_project$reviewers===void 0?void 0:_project$reviewers.find(r=>r.reviewer_id===user.id);return reviewer&&reviewer.status==='pending';};// Check if user can manage a project\nconst canManageProject=project=>{if(!user)return false;return user.id===project.submitter_id;};// Workflow Visualization Component\nconst WorkflowVisualization=_ref=>{var _project$reviewers2,_project$submitter;let{project}=_ref;// Get reviewer names from user_profiles\nconst reviewersStatus=((_project$reviewers2=project.reviewers)===null||_project$reviewers2===void 0?void 0:_project$reviewers2.map(reviewer=>({name:reviewer.name||reviewer.department,department:reviewer.department,status:reviewer.status})))||[];const projectStatus=getProjectStatus(project);return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Workflow Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold\",children:((_project$submitter=project.submitter)===null||_project$submitter===void 0?void 0:_project$submitter.split(' ').map(n=>n[0]).join(''))||'S'}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm font-medium\",children:project.submitter||'Submitter'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Submitted\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 8l4 4m0 0l-4 4m4-4H3\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4\",children:reviewersStatus.map((reviewer,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full flex items-center justify-center font-bold text-white \".concat(reviewer.status==='approved'?'bg-green-500':reviewer.status==='rejected'?'bg-red-500':reviewer.status==='pending'?'bg-yellow-500':'bg-gray-500'),children:reviewer.name.split(' ').map(n=>n[0]).join('')}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm font-medium\",children:reviewer.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:reviewer.department}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs mt-1 \".concat(getStatusColor(reviewer.status)),children:reviewer.status})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"hidden md:block\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M17 8l4 4m0 0l-4 4m4-4H3\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 rounded-full flex items-center justify-center font-bold text-white \".concat(project.status==='approved'?'bg-green-500':project.status==='rejected'?'bg-red-500':project.status==='pending_director'?'bg-yellow-500':'bg-gray-400'),children:\"DIR\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm font-medium\",children:\"Director\"}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs mt-1 \".concat(getStatusColor(project.status)),children:project.status.replace('_',' ')})]})]})]});};// Risk Analysis Section\nconst RiskAnalysisSection=_ref2=>{let{project,isEditable=false}=_ref2;const[riskData,setRiskData]=useState(project.riskAnalysis||{});const[editing,setEditing]=useState(false);const handleRiskUpdate=(category,field,value)=>{setRiskData(_objectSpread(_objectSpread({},riskData),{},{[category]:_objectSpread(_objectSpread({},riskData[category]),{},{[field]:value})}));};const saveRiskAnalysis=async()=>{if(!user)return;try{// Update each risk category\nfor(const category of['financial','legal','technical','operational']){const riskItem=riskData[category];if(riskItem){const{error}=await supabase.from('risk_analysis').update({risk:riskItem.risk,mitigation:riskItem.mitigation,updated_at:new Date().toISOString()}).eq('project_id',project.id).eq('category',category);if(error)throw error;}}setEditing(false);await fetchProjects();}catch(error){console.error('Error saving risk analysis:',error);alert('Failed to save risk analysis: '+error.message);}};const riskCategories=[{key:'financial',label:'Financial Risk',icon:'💰'},{key:'legal',label:'Legal Risk',icon:'⚖️'},{key:'technical',label:'Technical Risk',icon:'💻'},{key:'operational',label:'Operational Risk',icon:'⚙️'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Risk Analysis\"}),isEditable&&!editing&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditing(true),className:\"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition\",children:\"Edit Risk Analysis\"}),editing&&/*#__PURE__*/_jsx(\"button\",{onClick:saveRiskAnalysis,className:\"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600 transition\",children:\"Save Changes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:riskCategories.map(category=>{var _riskData$category$ke,_riskData$category$ke2,_riskData$category$ke3,_riskData$category$ke4,_riskData$category$ke5,_riskData$category$ke6,_riskData$category$ke7;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xl mr-2\",children:category.icon}),/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:category.label})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Risk Level\"}),editing?/*#__PURE__*/_jsxs(\"select\",{value:((_riskData$category$ke=riskData[category.key])===null||_riskData$category$ke===void 0?void 0:_riskData$category$ke.risk)||'Not assessed',onChange:e=>handleRiskUpdate(category.key,'risk',e.target.value),className:\"w-full p-2 border rounded\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"High\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Not assessed\",children:\"Not assessed\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"px-3 py-1 rounded-full text-sm inline-block \".concat(((_riskData$category$ke2=riskData[category.key])===null||_riskData$category$ke2===void 0?void 0:_riskData$category$ke2.risk)==='High'?'bg-red-100 text-red-800':((_riskData$category$ke3=riskData[category.key])===null||_riskData$category$ke3===void 0?void 0:_riskData$category$ke3.risk)==='Medium'?'bg-yellow-100 text-yellow-800':((_riskData$category$ke4=riskData[category.key])===null||_riskData$category$ke4===void 0?void 0:_riskData$category$ke4.risk)==='Low'?'bg-green-100 text-green-800':'bg-gray-100 text-gray-800'),children:((_riskData$category$ke5=riskData[category.key])===null||_riskData$category$ke5===void 0?void 0:_riskData$category$ke5.risk)||'Not assessed'})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Mitigation Strategy\"}),editing?/*#__PURE__*/_jsx(\"textarea\",{value:((_riskData$category$ke6=riskData[category.key])===null||_riskData$category$ke6===void 0?void 0:_riskData$category$ke6.mitigation)||'',onChange:e=>handleRiskUpdate(category.key,'mitigation',e.target.value),className:\"w-full p-2 border rounded\",rows:\"3\"}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:((_riskData$category$ke7=riskData[category.key])===null||_riskData$category$ke7===void 0?void 0:_riskData$category$ke7.mitigation)||'No mitigation strategy defined'})]})]})]},category.key);})})]});};// Actual Work Tracking Component\nconst ActualWorkTracking=_ref3=>{let{project}=_ref3;const isProjectApproved=getProjectStatus(project)==='approved';const actualWork=project.actualWork||{};const canManage=canManageProject(project);return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:\"Actual Work Tracking\"}),isProjectApproved&&!actualWork.startDate&&canManage&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>startProject(project.id),className:\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition\",children:\"Start Project\"}),isProjectApproved&&actualWork.startDate&&!actualWork.endDate&&actualWork.progress===100&&canManage&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>completeProject(project.id),className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition\",children:\"Complete Project\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:\"Project Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg font-bold\",children:[actualWork.progress||0,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-3 rounded-full transition-all duration-300\",style:{width:\"\".concat(actualWork.progress||0,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-500 mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Start Date: \",actualWork.startDate?new Date(actualWork.startDate).toLocaleDateString():'Not started']}),/*#__PURE__*/_jsxs(\"span\",{children:[\"End Date: \",actualWork.endDate?new Date(actualWork.endDate).toLocaleDateString():'In progress']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium mb-3\",children:\"Budget Tracking\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Approved Budget: $\",(project.budget||0).toLocaleString()]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Spent: $\",(actualWork.budgetSpent||0).toLocaleString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2 mb-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full transition-all duration-300 \".concat(actualWork.budgetSpent/project.budget*100>90?'bg-red-500':actualWork.budgetSpent/project.budget*100>75?'bg-yellow-500':'bg-green-500'),style:{width:\"\".concat(Math.min((actualWork.budgetSpent||0)/(project.budget||1)*100,100),\"%\")}})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium\",children:[actualWork.budgetSpent>project.budget?'Over budget by ':'Remaining budget: ',Math.abs((actualWork.budgetSpent||0)-(project.budget||0)).toLocaleString(),\" USD\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:\"Milestones\"}),isProjectApproved&&actualWork.startDate&&canManage&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.getElementById('add-milestone-modal').classList.remove('hidden'),className:\"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition\",children:\"Add Milestone\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(actualWork.milestones||[]).map(milestone=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-medium\",children:milestone.name}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs \".concat(getStatusColor(milestone.status)),children:milestone.status.replace('_',' ')})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-2\",children:milestone.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Due: \",milestone.due_date?new Date(milestone.due_date).toLocaleDateString():'Not set']}),milestone.completion_date&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Completed: \",new Date(milestone.completion_date).toLocaleDateString()]})]}),isProjectApproved&&actualWork.startDate&&canManage&&milestone.status!=='completed'&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateMilestoneStatus(project.id,milestone.id,'in_progress'),className:\"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition\",children:\"Mark In Progress\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateMilestoneStatus(project.id,milestone.id,'completed'),className:\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 transition\",children:\"Mark Completed\"})]})]},milestone.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:\"Issues & Risks\"}),isProjectApproved&&actualWork.startDate&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.getElementById('add-issue-modal').classList.remove('hidden'),className:\"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600 transition\",children:\"Report Issue\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(actualWork.issues||[]).map(issue=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"font-medium\",children:[\"Issue #\",issue.id]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs \".concat(getStatusColor(issue.status)),children:issue.status})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:issue.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 mb-2\",children:[\"Reported by \",issue.reported_by,\" on \",issue.created_at?new Date(issue.created_at).toLocaleDateString():'Unknown date',issue.resolved_at&&\" | Resolved on \".concat(new Date(issue.resolved_at).toLocaleDateString())]}),issue.resolution&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-3 rounded mt-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-800\",children:\"Resolution:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700\",children:issue.resolution})]}),issue.status==='open'&&canManage&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Enter resolution...\",className:\"w-full p-2 border rounded text-sm\",rows:\"2\",id:\"resolution-\".concat(issue.id)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const resolution=document.getElementById(\"resolution-\".concat(issue.id)).value;if(resolution)resolveIssue(project.id,issue.id,resolution);},className:\"mt-2 px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 transition\",children:\"Mark as Resolved\"})]})]},issue.id))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:\"Project Updates\"}),isProjectApproved&&actualWork.startDate&&canManage&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>document.getElementById('add-update-modal').classList.remove('hidden'),className:\"bg-purple-500 text-white px-3 py-1 rounded text-sm hover:bg-purple-600 transition\",children:\"Add Update\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:(actualWork.updates||[]).map(update=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:update.author}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:update.created_at?new Date(update.created_at).toLocaleDateString():'Unknown date'})]}),/*#__PURE__*/_jsx(\"p\",{children:update.update_text})]},update.id))})]})]});};// Discussion Section\nconst DiscussionSection=_ref4=>{let{project}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-between items-center mb-4\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold\",children:\"Discussion\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 mb-4 max-h-96 overflow-y-auto\",children:(project.discussions||[]).map(discussion=>/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium\",children:discussion.user_name||'Unknown User'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500\",children:discussion.created_at?new Date(discussion.created_at).toLocaleString():'Unknown date'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-700\",children:discussion.comment})]},discussion.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:\"Add a comment...\",className:\"w-full p-3 border rounded-lg mb-3\",rows:\"3\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addComment(project.id),disabled:!user,className:\"px-4 py-2 rounded hover:bg-blue-600 transition \".concat(user?'bg-blue-500 text-white hover:bg-blue-600':'bg-gray-300 text-gray-500 cursor-not-allowed'),children:\"Post Comment\"})]})]});};// Login Screen\nif(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading...\"})]})});}if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md w-full max-w-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 text-white p-3 rounded-lg inline-block mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-12 h-12\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"SI-Jari Proyek\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"Sistem Informasi Justifikasi Risiko Proyek\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 text-center\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:loginEmail,onChange:e=>setLoginEmail(e.target.value),className:\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:loginPassword,onChange:e=>setLoginPassword(e.target.value),className:\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your password\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-medium\",children:\"Sign In\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-4 text-center\",children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignup,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Full Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:signupData.name,onChange:e=>setSignupData(_objectSpread(_objectSpread({},signupData),{},{name:e.target.value})),className:\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your full name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:signupData.email,onChange:e=>setSignupData(_objectSpread(_objectSpread({},signupData),{},{email:e.target.value})),className:\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your email\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:signupData.password,onChange:e=>setSignupData(_objectSpread(_objectSpread({},signupData),{},{password:e.target.value})),className:\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",placeholder:\"Enter your password\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Role\"}),/*#__PURE__*/_jsx(\"select\",{value:signupData.role,onChange:e=>setSignupData(_objectSpread(_objectSpread({},signupData),{},{role:e.target.value})),className:\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:roles.map(role=>/*#__PURE__*/_jsx(\"option\",{value:role,children:role},role))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Department\"}),/*#__PURE__*/_jsx(\"select\",{value:signupData.department,onChange:e=>setSignupData(_objectSpread(_objectSpread({},signupData),{},{department:e.target.value})),className:\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",children:departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept,children:dept},dept))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition font-medium\",children:\"Create Account\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 p-4 bg-blue-50 rounded-lg\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-blue-800 text-center\",children:\"Connected to Supabase: https://hjllwagynjjhifufvpvg.supabase.co\"})})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm border-b\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 text-white p-2 rounded-lg mr-3\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:\"SI-Jari Proyek\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Sistem Informasi Justifikasi Risiko Proyek\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-4\",children:user&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:user.email}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"User ID: \",user.id]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold\",children:user.email.split('@')[0].charAt(0).toUpperCase()}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"text-red-600 hover:text-red-800 text-sm font-medium\",children:\"Logout\"})]})})]})})}),user&&/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-8\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('dashboard'),className:\"py-4 px-1 border-b-2 font-medium text-sm transition-colors \".concat(activeTab==='dashboard'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('submit'),className:\"py-4 px-1 border-b-2 font-medium text-sm transition-colors \".concat(activeTab==='submit'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"Submit Project\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab('history'),className:\"py-4 px-1 border-b-2 font-medium text-sm transition-colors \".concat(activeTab==='history'?'border-blue-500 text-blue-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),children:\"History & Archive\"})]})})}),user&&/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[activeTab==='dashboard'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Project Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"border rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"All Status\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Pending Review\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Completed\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Rejected\"})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"border rounded px-3 py-2\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"All Departments\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{children:dept},dept))]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-100 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-blue-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Pending Review\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:projects.filter(p=>getProjectStatus(p)==='pending_review').length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-green-100 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-green-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:projects.filter(p=>getProjectStatus(p)==='approved').length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-purple-100 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-purple-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 10V3L4 14h7v7l9-11h-7z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:projects.filter(p=>getProjectStatus(p)==='in_progress').length})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 p-3 rounded-full\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Projects\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-semibold text-gray-900\",children:projects.length})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Current Projects\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Budget\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Progress\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:projects.map(project=>{var _project$actualWork,_project$actualWork2,_project$actualWork3,_project$actualWork4;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:project.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500\",children:[\"Submitted by \",project.submitter]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:project.department}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[\"$\",(project.budget||0).toLocaleString()]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-24 bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:\"\".concat(((_project$actualWork=project.actualWork)===null||_project$actualWork===void 0?void 0:_project$actualWork.progress)||0,\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500\",children:[((_project$actualWork2=project.actualWork)===null||_project$actualWork2===void 0?void 0:_project$actualWork2.progress)||0,\"%\"]})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(getStatusColor(getProjectStatus(project))),children:getProjectStatus(project).replace('_',' ')}),((_project$actualWork3=project.actualWork)===null||_project$actualWork3===void 0?void 0:_project$actualWork3.startDate)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:(_project$actualWork4=project.actualWork)!==null&&_project$actualWork4!==void 0&&_project$actualWork4.endDate?'Completed':'In Progress'})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedProject(project),className:\"text-blue-600 hover:text-blue-900 mr-3\",children:\"View Details\"}),canManageProject(project)&&getProjectStatus(project)==='pending_review'&&/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-600 hover:text-gray-900\",children:\"Edit\"})]})]},project.id);})})]})})]})]}),activeTab==='submit'&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-3xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Submit New Project\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleProjectSubmission,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Project Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newProject.title,onChange:e=>setNewProject(_objectSpread(_objectSpread({},newProject),{},{title:e.target.value})),className:\"w-full p-3 border rounded-lg\",placeholder:\"Enter project title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{value:newProject.department,onChange:e=>setNewProject(_objectSpread(_objectSpread({},newProject),{},{department:e.target.value})),className:\"w-full p-3 border rounded-lg\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Department\"}),departments.map(dept=>/*#__PURE__*/_jsx(\"option\",{value:dept,children:dept},dept))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Project Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newProject.description,onChange:e=>setNewProject(_objectSpread(_objectSpread({},newProject),{},{description:e.target.value})),className:\"w-full p-3 border rounded-lg\",rows:\"4\",placeholder:\"Describe your project, objectives, and expected outcomes\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Estimated Budget ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:newProject.budget,onChange:e=>setNewProject(_objectSpread(_objectSpread({},newProject),{},{budget:e.target.value})),className:\"w-full p-3 border rounded-lg\",placeholder:\"0\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Timeline\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newProject.timeline,onChange:e=>setNewProject(_objectSpread(_objectSpread({},newProject),{},{timeline:e.target.value})),className:\"w-full p-3 border rounded-lg\",placeholder:\"e.g., 6 months\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-4 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setActiveTab('dashboard'),className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700\",children:\"Submit Project\"})]})]})]})}),activeTab==='history'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6\",children:\"Project History & Archive\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"All Projects\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Project\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Submitted\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Department\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Progress\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Final Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:projects.map(project=>{var _project$actualWork5,_project$actualWork6;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:project.title})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:project.created_at?new Date(project.created_at).toLocaleDateString():'Unknown'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:project.department}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:\"\".concat(((_project$actualWork5=project.actualWork)===null||_project$actualWork5===void 0?void 0:_project$actualWork5.progress)||0,\"%\")}})})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full \".concat(getStatusColor(getProjectStatus(project))),children:getProjectStatus(project).replace('_',' ')}),((_project$actualWork6=project.actualWork)===null||_project$actualWork6===void 0?void 0:_project$actualWork6.endDate)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Completed\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedProject(project),className:\"text-blue-600 hover:text-blue-900\",children:\"View Details\"})})]},project.id);})})]})})]})]})]}),selectedProject&&user&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg max-w-4xl w-full max-h-screen overflow-y-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-6 border-b\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold\",children:selectedProject.title}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedProject(null),className:\"text-gray-400 hover:text-gray-600\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:selectedProject.description})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Submitted By\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:selectedProject.submitter}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Department: \",selectedProject.department]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Date: \",selectedProject.created_at?new Date(selectedProject.created_at).toLocaleDateString():'Unknown']})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Budget\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 text-gray-900\",children:[\"$\",(selectedProject.budget||0).toLocaleString()]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-500\",children:\"Timeline\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-gray-900\",children:selectedProject.timeline})]})]}),/*#__PURE__*/_jsx(WorkflowVisualization,{project:selectedProject}),/*#__PURE__*/_jsx(RiskAnalysisSection,{project:selectedProject,isEditable:user&&!canManageProject(selectedProject)}),/*#__PURE__*/_jsx(ActualWorkTracking,{project:selectedProject}),canReviewProject(selectedProject)&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Your Review\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Add your comments or feedback...\",className:\"w-full p-3 border rounded-lg\",rows:\"3\",id:\"review-comment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const comment=document.getElementById('review-comment').value;handleReviewAction(selectedProject.id,'approved',comment||'Approved with no concerns');},className:\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const comment=document.getElementById('review-comment').value;handleReviewAction(selectedProject.id,'rejected',comment||'Rejected due to concerns');},className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition\",children:\"Reject\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const comment=document.getElementById('review-comment').value;handleReviewAction(selectedProject.id,'needs_info',comment||'Needs more information');},className:\"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition\",children:\"Request More Info\"})]})]})]}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 p-4 bg-blue-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Director Decision\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Add your decision comments...\",className:\"w-full p-3 border rounded-lg\",rows:\"3\",id:\"director-comment\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const comment=document.getElementById('director-comment').value;handleDirectorAction(selectedProject.id,'approved',comment||'Project approved');},className:\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\",children:\"Approve Project\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{const comment=document.getElementById('director-comment').value;handleDirectorAction(selectedProject.id,'rejected',comment||'Project rejected');},className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition\",children:\"Reject Project\"})]})]})]}),/*#__PURE__*/_jsx(DiscussionSection,{project:selectedProject})]})]})}),user&&/*#__PURE__*/_jsx(\"div\",{id:\"add-milestone-modal\",className:\"hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Add New Milestone\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Milestone Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMilestone.name,onChange:e=>setNewMilestone(_objectSpread(_objectSpread({},newMilestone),{},{name:e.target.value})),className:\"w-full p-2 border rounded\",placeholder:\"Enter milestone name\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:newMilestone.dueDate,onChange:e=>setNewMilestone(_objectSpread(_objectSpread({},newMilestone),{},{dueDate:e.target.value})),className:\"w-full p-2 border rounded\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newMilestone.description,onChange:e=>setNewMilestone(_objectSpread(_objectSpread({},newMilestone),{},{description:e.target.value})),className:\"w-full p-2 border rounded\",rows:\"3\",placeholder:\"Describe this milestone\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{document.getElementById('add-milestone-modal').classList.add('hidden');setNewMilestone({name:'',dueDate:'',description:''});},className:\"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{addMilestone(selectedProject.id);document.getElementById('add-milestone-modal').classList.add('hidden');},className:\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",children:\"Add Milestone\"})]})]})}),user&&/*#__PURE__*/_jsx(\"div\",{id:\"add-issue-modal\",className:\"hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Report New Issue\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Issue Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newIssue.description,onChange:e=>setNewIssue(_objectSpread(_objectSpread({},newIssue),{},{description:e.target.value})),className:\"w-full p-2 border rounded\",rows:\"3\",placeholder:\"Describe the issue\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{document.getElementById('add-issue-modal').classList.add('hidden');setNewIssue({description:''});},className:\"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{addIssue(selectedProject.id);document.getElementById('add-issue-modal').classList.add('hidden');},className:\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\",children:\"Report Issue\"})]})]})}),user&&/*#__PURE__*/_jsx(\"div\",{id:\"add-update-modal\",className:\"hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4\",children:\"Add Project Update\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Update Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newUpdate,onChange:e=>setNewUpdate(e.target.value),className:\"w-full p-2 border rounded\",rows:\"4\",placeholder:\"Describe the latest update on the project\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{document.getElementById('add-update-modal').classList.add('hidden');setNewUpdate('');},className:\"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{addUpdate(selectedProject.id);document.getElementById('add-update-modal').classList.add('hidden');},className:\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700\",children:\"Post Update\"})]})]})})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","createClient","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","supabase","App","user","setUser","loading","setLoading","loginEmail","setLoginEmail","loginPassword","setLoginPassword","signupData","setSignupData","email","password","name","role","department","projects","setProjects","selectedProject","setSelectedProject","activeTab","setActiveTab","newProject","setNewProject","title","description","budget","timeline","newComment","setNewComment","newMilestone","setNewMilestone","dueDate","newIssue","setNewIssue","newUpdate","setNewUpdate","departments","roles","checkUser","_session$user","data","session","auth","getSession","error","console","subscription","onAuthStateChange","_event","_session$user2","unsubscribe","fetchProjects","userProfile","profileError","from","select","eq","id","single","code","createError","insert","user_id","split","query","order","ascending","reviewerProjects","reviewerError","projectIds","map","r","project_id","length","in","formattedProjects","project","_project$user_profile","_project$user_profile2","_project$user_profile3","_objectSpread","submitter","user_profiles","submitterRole","submitterDepartment","reviewers","riskAnalysis","financial","risk_analysis","find","category","risk","mitigation","legal","technical","operational","actualWork","startDate","start_date","endDate","end_date","progress","milestones","budgetSpent","budget_spent","issues","updates","discussions","handleLogin","e","preventDefault","signInWithPassword","alert","message","handleSignup","signUp","handleLogout","signOut","handleProjectSubmission","projectData","projectError","parseFloat","submitter_id","status","reviewerRoles","reviewerRole","reviewerData","limit","reviewer_id","comment","riskCategories","handleReviewAction","projectId","action","arguments","undefined","update","updated_at","Date","toISOString","allReviewers","reviewersError","allReviewed","every","hasRejection","some","projectStatus","handleDirectorAction","Error","director_comment","director_id","addComment","trim","user_name","created_at","addMilestone","due_date","updateMilestoneStatus","milestoneId","completionDate","completion_date","allMilestones","milestonesError","completedCount","filter","m","Math","round","addIssue","reported_by","resolveIssue","issueId","resolution","resolved_at","addUpdate","update_text","author","startProject","completeProject","getStatusColor","getProjectStatus","canReviewProject","_project$reviewers","reviewer","canManageProject","WorkflowVisualization","_ref","_project$reviewers2","_project$submitter","reviewersStatus","className","children","n","join","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","index","concat","replace","RiskAnalysisSection","_ref2","isEditable","riskData","setRiskData","editing","setEditing","handleRiskUpdate","field","value","saveRiskAnalysis","riskItem","key","label","icon","onClick","_riskData$category$ke","_riskData$category$ke2","_riskData$category$ke3","_riskData$category$ke4","_riskData$category$ke5","_riskData$category$ke6","_riskData$category$ke7","onChange","target","rows","ActualWorkTracking","_ref3","isProjectApproved","canManage","style","width","toLocaleDateString","toLocaleString","min","abs","document","getElementById","classList","remove","milestone","issue","placeholder","DiscussionSection","_ref4","discussion","disabled","onSubmit","type","required","dept","charAt","toUpperCase","p","scope","_project$actualWork","_project$actualWork2","_project$actualWork3","_project$actualWork4","_project$actualWork5","_project$actualWork6","add"],"sources":["D:/2. Aplikasi/Si-Jari-Proyek/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createClient } from '@supabase/supabase-js';\r\n\r\n// Initialize Supabase client\r\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL || 'https://hjllwagynjjhifufvpvg.supabase.co';\r\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY || 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhqbGx3YWd5bmpqaGlmdWZ2cHZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwMDM2MDcsImV4cCI6MjA3MzU3OTYwN30.IFlDZ9pWNsucKM2uwzAh4zCm31ZUMtId4LPKs1r-qU0';\r\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\nconst App = () => {\r\n  // State for authentication\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loginEmail, setLoginEmail] = useState('');\r\n  const [loginPassword, setLoginPassword] = useState('');\r\n  const [signupData, setSignupData] = useState({\r\n    email: '',\r\n    password: '',\r\n    name: '',\r\n    role: 'Project Proposer',\r\n    department: 'IT Department'\r\n  });\r\n\r\n  // State for application data\r\n  const [projects, setProjects] = useState([]);\r\n  const [selectedProject, setSelectedProject] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [newProject, setNewProject] = useState({\r\n    title: '',\r\n    description: '',\r\n    budget: '',\r\n    timeline: '',\r\n    department: ''\r\n  });\r\n  const [newComment, setNewComment] = useState('');\r\n  const [newMilestone, setNewMilestone] = useState({ name: '', dueDate: '', description: '' });\r\n  const [newIssue, setNewIssue] = useState({ description: '' });\r\n  const [newUpdate, setNewUpdate] = useState('');\r\n\r\n  // Departments and roles for dropdowns\r\n  const departments = ['IT Department', 'Finance', 'Legal', 'Operations', 'HR', 'Marketing', 'Sales'];\r\n  const roles = ['Project Proposer', 'Finance', 'Legal', 'Operations', 'Director', 'Administrator'];\r\n\r\n  // Initialize - check for existing session\r\n  useEffect(() => {\r\n    const checkUser = async () => {\r\n      try {\r\n        const { data: { session } } = await supabase.auth.getSession();\r\n        setUser(session?.user ?? null);\r\n        setLoading(false);\r\n      } catch (error) {\r\n        console.error('Error checking session:', error);\r\n        setLoading(false);\r\n      }\r\n    };\r\n    checkUser();\r\n\r\n    // Listen for auth changes\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setUser(session?.user ?? null);\r\n    });\r\n\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  // Fetch projects when user changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchProjects();\r\n    }\r\n  }, [user]);\r\n\r\n  // Fetch projects based on user role\r\n  const fetchProjects = async () => {\r\n    try {\r\n      if (!user) return;\r\n      \r\n      // Get user profile to determine role\r\n      const { data: userProfile, error: profileError } = await supabase\r\n        .from('user_profiles')\r\n        .select('*')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n\r\n      if (profileError && profileError.code !== 'PGRST116') {\r\n        console.error('Error fetching user profile:', profileError);\r\n        return;\r\n      }\r\n\r\n      // If user profile doesn't exist, create one\r\n      if (!userProfile) {\r\n        const { error: createError } = await supabase\r\n          .from('user_profiles')\r\n          .insert({\r\n            user_id: user.id,\r\n            name: user.email.split('@')[0],\r\n            email: user.email,\r\n            role: 'Project Proposer',\r\n            department: 'IT Department'\r\n          });\r\n          \r\n        if (createError) {\r\n          console.error('Error creating user profile:', createError);\r\n          return;\r\n        }\r\n      }\r\n\r\n      let query = supabase\r\n        .from('projects')\r\n        .select(`\r\n          *,\r\n          user_profiles!projects_submitter_id_fkey (name, role, department),\r\n          reviewers (*),\r\n          risk_analysis (*),\r\n          milestones (*),\r\n          issues (*),\r\n          updates (*),\r\n          discussions (*)\r\n        `)\r\n        .order('created_at', { ascending: false });\r\n\r\n      // Filter based on user role\r\n      if (userProfile?.role === 'Project Proposer') {\r\n        query = query.eq('submitter_id', user.id);\r\n      } else if (userProfile?.role !== 'Director' && userProfile?.role !== 'Administrator') {\r\n        // Reviewers can see projects where they are assigned as reviewers\r\n        const { data: reviewerProjects, error: reviewerError } = await supabase\r\n          .from('reviewers')\r\n          .select('project_id')\r\n          .eq('reviewer_id', user.id);\r\n          \r\n        if (reviewerError) {\r\n          console.error('Error fetching reviewer projects:', reviewerError);\r\n          return;\r\n        }\r\n        \r\n        const projectIds = reviewerProjects.map(r => r.project_id);\r\n        if (projectIds.length > 0) {\r\n          query = query.in('id', projectIds);\r\n        } else {\r\n          // Return empty array if no projects assigned\r\n          setProjects([]);\r\n          return;\r\n        }\r\n      }\r\n      // Directors and Administrators can see all projects\r\n\r\n      const { data, error } = await query;\r\n      \r\n      if (error) {\r\n        console.error('Error fetching projects:', error);\r\n        return;\r\n      }\r\n      \r\n      // Process and format the data\r\n      const formattedProjects = (data || []).map(project => ({\r\n        ...project,\r\n        submitter: project.user_profiles?.name || 'Unknown',\r\n        submitterRole: project.user_profiles?.role || 'Project Proposer',\r\n        submitterDepartment: project.user_profiles?.department || 'IT Department',\r\n        reviewers: project.reviewers || [],\r\n        riskAnalysis: {\r\n          financial: (project.risk_analysis || []).find(r => r.category === 'financial') || { risk: 'Not assessed', mitigation: '' },\r\n          legal: (project.risk_analysis || []).find(r => r.category === 'legal') || { risk: 'Not assessed', mitigation: '' },\r\n          technical: (project.risk_analysis || []).find(r => r.category === 'technical') || { risk: 'Not assessed', mitigation: '' },\r\n          operational: (project.risk_analysis || []).find(r => r.category === 'operational') || { risk: 'Not assessed', mitigation: '' }\r\n        },\r\n        actualWork: {\r\n          startDate: project.start_date || '',\r\n          endDate: project.end_date || '',\r\n          progress: project.progress || 0,\r\n          milestones: project.milestones || [],\r\n          budgetSpent: project.budget_spent || 0,\r\n          issues: project.issues || [],\r\n          updates: project.updates || []\r\n        },\r\n        discussions: project.discussions || []\r\n      }));\r\n      \r\n      setProjects(formattedProjects);\r\n    } catch (error) {\r\n      console.error('Error in fetchProjects:', error);\r\n    }\r\n  };\r\n\r\n  // Handle login\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { data, error } = await supabase.auth.signInWithPassword({\r\n        email: loginEmail,\r\n        password: loginPassword,\r\n      });\r\n      \r\n      if (error) throw error;\r\n      \r\n      setUser(data.user);\r\n    } catch (error) {\r\n      alert('Login failed: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Handle signup\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const { data, error } = await supabase.auth.signUp({\r\n        email: signupData.email,\r\n        password: signupData.password,\r\n      });\r\n      \r\n      if (error) throw error;\r\n      \r\n      // Create user profile\r\n      if (data.user) {\r\n        const { error: profileError } = await supabase\r\n          .from('user_profiles')\r\n          .insert({\r\n            user_id: data.user.id,\r\n            name: signupData.name,\r\n            email: signupData.email,\r\n            role: signupData.role,\r\n            department: signupData.department\r\n          });\r\n          \r\n        if (profileError) throw profileError;\r\n        \r\n        alert('Account created successfully! Please check your email for confirmation.');\r\n      }\r\n    } catch (error) {\r\n      alert('Signup failed: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Handle logout\r\n  const handleLogout = async () => {\r\n    try {\r\n      const { error } = await supabase.auth.signOut();\r\n      if (error) throw error;\r\n      setUser(null);\r\n      setActiveTab('dashboard');\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    }\r\n  };\r\n\r\n  // Submit new project\r\n  const handleProjectSubmission = async (e) => {\r\n    e.preventDefault();\r\n    if (!user) return;\r\n    \r\n    try {\r\n      // Insert project\r\n      const { data: projectData, error: projectError } = await supabase\r\n        .from('projects')\r\n        .insert({\r\n          title: newProject.title,\r\n          description: newProject.description,\r\n          budget: parseFloat(newProject.budget),\r\n          timeline: newProject.timeline,\r\n          department: newProject.department,\r\n          submitter_id: user.id,\r\n          status: 'pending_review',\r\n          progress: 0\r\n        })\r\n        .select()\r\n        .single();\r\n        \r\n      if (projectError) throw projectError;\r\n      \r\n      // Add default reviewers (in a real app, you might want to make this configurable)\r\n      // Get reviewer user IDs for each department\r\n      const reviewerRoles = [\r\n        { department: 'Finance', role: 'Finance' },\r\n        { department: 'Legal', role: 'Legal' },\r\n        { department: 'Operations', role: 'Operations' }\r\n      ];\r\n      \r\n      for (let reviewerRole of reviewerRoles) {\r\n        const { data: reviewerData, error: reviewerError } = await supabase\r\n          .from('user_profiles')\r\n          .select('user_id')\r\n          .eq('role', reviewerRole.role)\r\n          .eq('department', reviewerRole.department)\r\n          .limit(1)\r\n          .single();\r\n          \r\n        if (!reviewerError && reviewerData) {\r\n          await supabase\r\n            .from('reviewers')\r\n            .insert({\r\n              project_id: projectData.id,\r\n              reviewer_id: reviewerData.user_id,\r\n              department: reviewerRole.department,\r\n              status: 'pending',\r\n              comment: ''\r\n            });\r\n        }\r\n      }\r\n      \r\n      // Initialize risk analysis\r\n      const riskCategories = ['financial', 'legal', 'technical', 'operational'];\r\n      for (let category of riskCategories) {\r\n        await supabase\r\n          .from('risk_analysis')\r\n          .insert({\r\n            project_id: projectData.id,\r\n            category: category,\r\n            risk: 'Not assessed',\r\n            mitigation: ''\r\n          });\r\n      }\r\n      \r\n      // Reset form and refresh projects\r\n      setNewProject({ title: '', description: '', budget: '', timeline: '', department: '' });\r\n      await fetchProjects();\r\n      setActiveTab('dashboard');\r\n      \r\n      alert('Project submitted successfully!');\r\n    } catch (error) {\r\n      console.error('Error submitting project:', error);\r\n      alert('Failed to submit project: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Handle review action\r\n  const handleReviewAction = async (projectId, action, comment = '') => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const { error } = await supabase\r\n        .from('reviewers')\r\n        .update({\r\n          status: action,\r\n          comment: comment,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('project_id', projectId)\r\n        .eq('reviewer_id', user.id);\r\n        \r\n      if (error) throw error;\r\n      \r\n      // Check if all reviewers have responded\r\n      const { data: allReviewers, error: reviewersError } = await supabase\r\n        .from('reviewers')\r\n        .select('status')\r\n        .eq('project_id', projectId);\r\n        \r\n      if (reviewersError) throw reviewersError;\r\n      \r\n      const allReviewed = allReviewers.every(r => r.status !== 'pending');\r\n      const hasRejection = allReviewers.some(r => r.status === 'rejected');\r\n      \r\n      if (allReviewed) {\r\n        const projectStatus = hasRejection ? 'rejected' : 'pending_director';\r\n        await supabase\r\n          .from('projects')\r\n          .update({ status: projectStatus })\r\n          .eq('id', projectId);\r\n      }\r\n      \r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error updating review:', error);\r\n      alert('Failed to update review: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Handle director action\r\n  const handleDirectorAction = async (projectId, action, comment = '') => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      // Get user profile to verify role\r\n      const { data: userProfile, error: profileError } = await supabase\r\n        .from('user_profiles')\r\n        .select('role')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n        \r\n      if (profileError) throw profileError;\r\n      \r\n      if (userProfile.role !== 'Director') {\r\n        throw new Error('Only directors can approve or reject projects');\r\n      }\r\n      \r\n      const { error } = await supabase\r\n        .from('projects')\r\n        .update({\r\n          status: action,\r\n          director_comment: comment,\r\n          director_id: user.id,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', projectId);\r\n        \r\n      if (error) throw error;\r\n      \r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error updating director decision:', error);\r\n      alert('Failed to update director decision: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Add comment to project\r\n  const addComment = async (projectId) => {\r\n    if (!newComment.trim() || !user) return;\r\n    \r\n    try {\r\n      // Get user profile for name\r\n      const { data: userProfile, error: profileError } = await supabase\r\n        .from('user_profiles')\r\n        .select('name')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n        \r\n      if (profileError) throw profileError;\r\n      \r\n      const { error } = await supabase\r\n        .from('discussions')\r\n        .insert({\r\n          project_id: projectId,\r\n          user_id: user.id,\r\n          user_name: userProfile.name,\r\n          comment: newComment,\r\n          created_at: new Date().toISOString()\r\n        });\r\n        \r\n      if (error) throw error;\r\n      \r\n      setNewComment('');\r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error adding comment:', error);\r\n      alert('Failed to add comment: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Add milestone to project\r\n  const addMilestone = async (projectId) => {\r\n    if (!newMilestone.name || !newMilestone.dueDate || !user) return;\r\n    \r\n    try {\r\n      const { error } = await supabase\r\n        .from('milestones')\r\n        .insert({\r\n          project_id: projectId,\r\n          name: newMilestone.name,\r\n          due_date: newMilestone.dueDate,\r\n          description: newMilestone.description,\r\n          status: 'not_started',\r\n          created_at: new Date().toISOString()\r\n        });\r\n        \r\n      if (error) throw error;\r\n      \r\n      setNewMilestone({ name: '', dueDate: '', description: '' });\r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error adding milestone:', error);\r\n      alert('Failed to add milestone: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Update milestone status\r\n  const updateMilestoneStatus = async (projectId, milestoneId, status) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const completionDate = status === 'completed' ? new Date().toISOString() : null;\r\n      \r\n      const { error } = await supabase\r\n        .from('milestones')\r\n        .update({\r\n          status: status,\r\n          completion_date: completionDate,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', milestoneId)\r\n        .eq('project_id', projectId);\r\n        \r\n      if (error) throw error;\r\n      \r\n      // Calculate and update project progress\r\n      const { data: allMilestones, error: milestonesError } = await supabase\r\n        .from('milestones')\r\n        .select('status')\r\n        .eq('project_id', projectId);\r\n        \r\n      if (milestonesError) throw milestonesError;\r\n      \r\n      const completedCount = allMilestones.filter(m => m.status === 'completed').length;\r\n      const progress = allMilestones.length > 0 ? Math.round((completedCount / allMilestones.length) * 100) : 0;\r\n      \r\n      await supabase\r\n        .from('projects')\r\n        .update({ progress: progress })\r\n        .eq('id', projectId);\r\n      \r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error updating milestone:', error);\r\n      alert('Failed to update milestone: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Add issue to project\r\n  const addIssue = async (projectId) => {\r\n    if (!newIssue.description || !user) return;\r\n    \r\n    try {\r\n      // Get user profile for name\r\n      const { data: userProfile, error: profileError } = await supabase\r\n        .from('user_profiles')\r\n        .select('name')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n        \r\n      if (profileError) throw profileError;\r\n      \r\n      const { error } = await supabase\r\n        .from('issues')\r\n        .insert({\r\n          project_id: projectId,\r\n          description: newIssue.description,\r\n          reported_by: userProfile.name,\r\n          status: 'open',\r\n          created_at: new Date().toISOString()\r\n        });\r\n        \r\n      if (error) throw error;\r\n      \r\n      setNewIssue({ description: '' });\r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error adding issue:', error);\r\n      alert('Failed to add issue: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Resolve issue\r\n  const resolveIssue = async (projectId, issueId, resolution) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      const { error } = await supabase\r\n        .from('issues')\r\n        .update({\r\n          status: 'resolved',\r\n          resolution: resolution,\r\n          resolved_at: new Date().toISOString(),\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', issueId)\r\n        .eq('project_id', projectId);\r\n        \r\n      if (error) throw error;\r\n      \r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error resolving issue:', error);\r\n      alert('Failed to resolve issue: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Add update to project\r\n  const addUpdate = async (projectId) => {\r\n    if (!newUpdate.trim() || !user) return;\r\n    \r\n    try {\r\n      // Get user profile for name\r\n      const { data: userProfile, error: profileError } = await supabase\r\n        .from('user_profiles')\r\n        .select('name')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n        \r\n      if (profileError) throw profileError;\r\n      \r\n      const { error } = await supabase\r\n        .from('updates')\r\n        .insert({\r\n          project_id: projectId,\r\n          update_text: newUpdate,\r\n          author: userProfile.name,\r\n          created_at: new Date().toISOString()\r\n        });\r\n        \r\n      if (error) throw error;\r\n      \r\n      setNewUpdate('');\r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error adding update:', error);\r\n      alert('Failed to add update: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Start project\r\n  const startProject = async (projectId) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      // Verify user is the project owner or admin\r\n      const { data: project, error: projectError } = await supabase\r\n        .from('projects')\r\n        .select('submitter_id')\r\n        .eq('id', projectId)\r\n        .single();\r\n        \r\n      if (projectError) throw projectError;\r\n      \r\n      const { data: userProfile, error: profileError } = await supabase\r\n        .from('user_profiles')\r\n        .select('role')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n        \r\n      if (profileError) throw profileError;\r\n      \r\n      if (project.submitter_id !== user.id && userProfile.role !== 'Administrator') {\r\n        throw new Error('Only project owners or administrators can start projects');\r\n      }\r\n      \r\n      const { error } = await supabase\r\n        .from('projects')\r\n        .update({\r\n          start_date: new Date().toISOString(),\r\n          status: 'in_progress',\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', projectId);\r\n        \r\n      if (error) throw error;\r\n      \r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error starting project:', error);\r\n      alert('Failed to start project: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Complete project\r\n  const completeProject = async (projectId) => {\r\n    if (!user) return;\r\n    \r\n    try {\r\n      // Verify user is the project owner or admin\r\n      const { data: project, error: projectError } = await supabase\r\n        .from('projects')\r\n        .select('submitter_id')\r\n        .eq('id', projectId)\r\n        .single();\r\n        \r\n      if (projectError) throw projectError;\r\n      \r\n      const { data: userProfile, error: profileError } = await supabase\r\n        .from('user_profiles')\r\n        .select('role')\r\n        .eq('user_id', user.id)\r\n        .single();\r\n        \r\n      if (profileError) throw profileError;\r\n      \r\n      if (project.submitter_id !== user.id && userProfile.role !== 'Administrator') {\r\n        throw new Error('Only project owners or administrators can complete projects');\r\n      }\r\n      \r\n      const { error } = await supabase\r\n        .from('projects')\r\n        .update({\r\n          end_date: new Date().toISOString(),\r\n          status: 'completed',\r\n          progress: 100,\r\n          updated_at: new Date().toISOString()\r\n        })\r\n        .eq('id', projectId);\r\n        \r\n      if (error) throw error;\r\n      \r\n      await fetchProjects();\r\n    } catch (error) {\r\n      console.error('Error completing project:', error);\r\n      alert('Failed to complete project: ' + error.message);\r\n    }\r\n  };\r\n\r\n  // Get status color based on status\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'approved': return 'bg-green-100 text-green-800';\r\n      case 'rejected': return 'bg-red-100 text-red-800';\r\n      case 'pending': return 'bg-yellow-100 text-yellow-800';\r\n      case 'pending_review': return 'bg-blue-100 text-blue-800';\r\n      case 'completed': return 'bg-green-100 text-green-800';\r\n      case 'in_progress': return 'bg-blue-100 text-blue-800';\r\n      case 'not_started': return 'bg-gray-100 text-gray-800';\r\n      case 'delayed': return 'bg-orange-100 text-orange-800';\r\n      case 'resolved': return 'bg-green-100 text-green-800';\r\n      case 'open': return 'bg-red-100 text-red-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  // Get project status\r\n  const getProjectStatus = (project) => {\r\n    return project.status;\r\n  };\r\n\r\n  // Check if user can review a project\r\n  const canReviewProject = (project) => {\r\n    if (!user) return false;\r\n    \r\n    const reviewer = project.reviewers?.find(r => r.reviewer_id === user.id);\r\n    return reviewer && reviewer.status === 'pending';\r\n  };\r\n\r\n  // Check if user can manage a project\r\n  const canManageProject = (project) => {\r\n    if (!user) return false;\r\n    return user.id === project.submitter_id;\r\n  };\r\n\r\n  // Workflow Visualization Component\r\n  const WorkflowVisualization = ({ project }) => {\r\n    // Get reviewer names from user_profiles\r\n    const reviewersStatus = project.reviewers?.map(reviewer => ({\r\n      name: reviewer.name || reviewer.department,\r\n      department: reviewer.department,\r\n      status: reviewer.status\r\n    })) || [];\r\n    \r\n    const projectStatus = getProjectStatus(project);\r\n    \r\n    return (\r\n      <div className=\"mt-6\">\r\n        <h3 className=\"text-lg font-semibold mb-4\">Workflow Status</h3>\r\n        <div className=\"flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4\">\r\n          {/* Submitter */}\r\n          <div className=\"flex flex-col items-center\">\r\n            <div className=\"w-16 h-16 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold\">\r\n              {project.submitter?.split(' ').map(n => n[0]).join('') || 'S'}\r\n            </div>\r\n            <p className=\"mt-2 text-sm font-medium\">{project.submitter || 'Submitter'}</p>\r\n            <p className=\"text-xs text-gray-500\">Submitted</p>\r\n          </div>\r\n          \r\n          {/* Arrow */}\r\n          <div className=\"hidden md:block\">\r\n            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n            </svg>\r\n          </div>\r\n          \r\n          {/* Reviewers */}\r\n          <div className=\"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4\">\r\n            {reviewersStatus.map((reviewer, index) => (\r\n              <div key={index} className=\"flex flex-col items-center\">\r\n                <div className={`w-16 h-16 rounded-full flex items-center justify-center font-bold text-white ${\r\n                  reviewer.status === 'approved' ? 'bg-green-500' : \r\n                  reviewer.status === 'rejected' ? 'bg-red-500' : \r\n                  reviewer.status === 'pending' ? 'bg-yellow-500' : 'bg-gray-500'\r\n                }`}>\r\n                  {reviewer.name.split(' ').map(n => n[0]).join('')}\r\n                </div>\r\n                <p className=\"mt-2 text-sm font-medium\">{reviewer.name}</p>\r\n                <p className=\"text-xs text-gray-500\">{reviewer.department}</p>\r\n                <span className={`px-2 py-1 rounded-full text-xs mt-1 ${getStatusColor(reviewer.status)}`}>\r\n                  {reviewer.status}\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {/* Arrow to Director */}\r\n          <div className=\"hidden md:block\">\r\n            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n            </svg>\r\n          </div>\r\n          \r\n          {/* Director */}\r\n          <div className=\"flex flex-col items-center\">\r\n            <div className={`w-16 h-16 rounded-full flex items-center justify-center font-bold text-white ${\r\n              project.status === 'approved' ? 'bg-green-500' : \r\n              project.status === 'rejected' ? 'bg-red-500' : \r\n              project.status === 'pending_director' ? 'bg-yellow-500' : 'bg-gray-400'\r\n            }`}>\r\n              DIR\r\n            </div>\r\n            <p className=\"mt-2 text-sm font-medium\">Director</p>\r\n            <span className={`px-2 py-1 rounded-full text-xs mt-1 ${getStatusColor(project.status)}`}>\r\n              {project.status.replace('_', ' ')}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Risk Analysis Section\r\n  const RiskAnalysisSection = ({ project, isEditable = false }) => {\r\n    const [riskData, setRiskData] = useState(project.riskAnalysis || {});\r\n    const [editing, setEditing] = useState(false);\r\n    \r\n    const handleRiskUpdate = (category, field, value) => {\r\n      setRiskData({\r\n        ...riskData,\r\n        [category]: {\r\n          ...riskData[category],\r\n          [field]: value\r\n        }\r\n      });\r\n    };\r\n    \r\n    const saveRiskAnalysis = async () => {\r\n      if (!user) return;\r\n      \r\n      try {\r\n        // Update each risk category\r\n        for (const category of ['financial', 'legal', 'technical', 'operational']) {\r\n          const riskItem = riskData[category];\r\n          if (riskItem) {\r\n            const { error } = await supabase\r\n              .from('risk_analysis')\r\n              .update({\r\n                risk: riskItem.risk,\r\n                mitigation: riskItem.mitigation,\r\n                updated_at: new Date().toISOString()\r\n              })\r\n              .eq('project_id', project.id)\r\n              .eq('category', category);\r\n              \r\n            if (error) throw error;\r\n          }\r\n        }\r\n        \r\n        setEditing(false);\r\n        await fetchProjects();\r\n      } catch (error) {\r\n        console.error('Error saving risk analysis:', error);\r\n        alert('Failed to save risk analysis: ' + error.message);\r\n      }\r\n    };\r\n    \r\n    const riskCategories = [\r\n      { key: 'financial', label: 'Financial Risk', icon: '💰' },\r\n      { key: 'legal', label: 'Legal Risk', icon: '⚖️' },\r\n      { key: 'technical', label: 'Technical Risk', icon: '💻' },\r\n      { key: 'operational', label: 'Operational Risk', icon: '⚙️' }\r\n    ];\r\n    \r\n    return (\r\n      <div className=\"mt-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Risk Analysis</h3>\r\n          {isEditable && !editing && (\r\n            <button \r\n              onClick={() => setEditing(true)}\r\n              className=\"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition\"\r\n            >\r\n              Edit Risk Analysis\r\n            </button>\r\n          )}\r\n          {editing && (\r\n            <button \r\n              onClick={saveRiskAnalysis}\r\n              className=\"bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600 transition\"\r\n            >\r\n              Save Changes\r\n            </button>\r\n          )}\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {riskCategories.map(category => (\r\n            <div key={category.key} className=\"border rounded-lg p-4\">\r\n              <div className=\"flex items-center mb-3\">\r\n                <span className=\"text-xl mr-2\">{category.icon}</span>\r\n                <h4 className=\"font-medium\">{category.label}</h4>\r\n              </div>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Risk Level</label>\r\n                  {editing ? (\r\n                    <select \r\n                      value={riskData[category.key]?.risk || 'Not assessed'}\r\n                      onChange={(e) => handleRiskUpdate(category.key, 'risk', e.target.value)}\r\n                      className=\"w-full p-2 border rounded\"\r\n                    >\r\n                      <option value=\"Low\">Low</option>\r\n                      <option value=\"Medium\">Medium</option>\r\n                      <option value=\"High\">High</option>\r\n                      <option value=\"Not assessed\">Not assessed</option>\r\n                    </select>\r\n                  ) : (\r\n                    <div className={`px-3 py-1 rounded-full text-sm inline-block ${\r\n                      riskData[category.key]?.risk === 'High' ? 'bg-red-100 text-red-800' :\r\n                      riskData[category.key]?.risk === 'Medium' ? 'bg-yellow-100 text-yellow-800' :\r\n                      riskData[category.key]?.risk === 'Low' ? 'bg-green-100 text-green-800' :\r\n                      'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {riskData[category.key]?.risk || 'Not assessed'}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Mitigation Strategy</label>\r\n                  {editing ? (\r\n                    <textarea \r\n                      value={riskData[category.key]?.mitigation || ''}\r\n                      onChange={(e) => handleRiskUpdate(category.key, 'mitigation', e.target.value)}\r\n                      className=\"w-full p-2 border rounded\"\r\n                      rows=\"3\"\r\n                    />\r\n                  ) : (\r\n                    <p className=\"text-gray-700\">{riskData[category.key]?.mitigation || 'No mitigation strategy defined'}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Actual Work Tracking Component\r\n  const ActualWorkTracking = ({ project }) => {\r\n    const isProjectApproved = getProjectStatus(project) === 'approved';\r\n    const actualWork = project.actualWork || {};\r\n    const canManage = canManageProject(project);\r\n    \r\n    return (\r\n      <div className=\"mt-6 bg-white rounded-lg shadow p-6\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h3 className=\"text-xl font-semibold\">Actual Work Tracking</h3>\r\n          {isProjectApproved && !actualWork.startDate && canManage && (\r\n            <button \r\n              onClick={() => startProject(project.id)}\r\n              className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition\"\r\n            >\r\n              Start Project\r\n            </button>\r\n          )}\r\n          {isProjectApproved && actualWork.startDate && !actualWork.endDate && actualWork.progress === 100 && canManage && (\r\n            <button \r\n              onClick={() => completeProject(project.id)}\r\n              className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition\"\r\n            >\r\n              Complete Project\r\n            </button>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Project Timeline and Progress */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex justify-between items-center mb-2\">\r\n            <h4 className=\"font-medium\">Project Progress</h4>\r\n            <span className=\"text-lg font-bold\">{actualWork.progress || 0}%</span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n            <div \r\n              className=\"bg-blue-600 h-3 rounded-full transition-all duration-300\"\r\n              style={{ width: `${actualWork.progress || 0}%` }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"flex justify-between text-sm text-gray-500 mt-2\">\r\n            <span>Start Date: {actualWork.startDate ? new Date(actualWork.startDate).toLocaleDateString() : 'Not started'}</span>\r\n            <span>End Date: {actualWork.endDate ? new Date(actualWork.endDate).toLocaleDateString() : 'In progress'}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Budget Tracking */}\r\n        <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\r\n          <h4 className=\"font-medium mb-3\">Budget Tracking</h4>\r\n          <div className=\"flex justify-between items-center mb-2\">\r\n            <span>Approved Budget: ${(project.budget || 0).toLocaleString()}</span>\r\n            <span>Spent: ${(actualWork.budgetSpent || 0).toLocaleString()}</span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-2 mb-2\">\r\n            <div \r\n              className={`h-2 rounded-full transition-all duration-300 ${\r\n                (actualWork.budgetSpent / project.budget) * 100 > 90 ? 'bg-red-500' : \r\n                (actualWork.budgetSpent / project.budget) * 100 > 75 ? 'bg-yellow-500' : 'bg-green-500'\r\n              }`}\r\n              style={{ width: `${Math.min(((actualWork.budgetSpent || 0) / (project.budget || 1)) * 100, 100)}%` }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"text-sm\">\r\n            <span className=\"font-medium\">\r\n              {actualWork.budgetSpent > project.budget ? 'Over budget by ' : 'Remaining budget: '}\r\n              {Math.abs((actualWork.budgetSpent || 0) - (project.budget || 0)).toLocaleString()} USD\r\n            </span>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Milestones */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h4 className=\"font-medium\">Milestones</h4>\r\n            {isProjectApproved && actualWork.startDate && canManage && (\r\n              <button \r\n                onClick={() => document.getElementById('add-milestone-modal').classList.remove('hidden')}\r\n                className=\"bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition\"\r\n              >\r\n                Add Milestone\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"space-y-3\">\r\n            {(actualWork.milestones || []).map(milestone => (\r\n              <div key={milestone.id} className=\"border rounded-lg p-4\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <h5 className=\"font-medium\">{milestone.name}</h5>\r\n                  <span className={`px-2 py-1 rounded-full text-xs ${getStatusColor(milestone.status)}`}>\r\n                    {milestone.status.replace('_', ' ')}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mb-2\">{milestone.description}</p>\r\n                <div className=\"flex justify-between text-sm text-gray-500\">\r\n                  <span>Due: {milestone.due_date ? new Date(milestone.due_date).toLocaleDateString() : 'Not set'}</span>\r\n                  {milestone.completion_date && <span>Completed: {new Date(milestone.completion_date).toLocaleDateString()}</span>}\r\n                </div>\r\n                {isProjectApproved && actualWork.startDate && canManage && milestone.status !== 'completed' && (\r\n                  <div className=\"mt-3 flex space-x-2\">\r\n                    <button \r\n                      onClick={() => updateMilestoneStatus(project.id, milestone.id, 'in_progress')}\r\n                      className=\"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 transition\"\r\n                    >\r\n                      Mark In Progress\r\n                    </button>\r\n                    <button \r\n                      onClick={() => updateMilestoneStatus(project.id, milestone.id, 'completed')}\r\n                      className=\"px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 transition\"\r\n                    >\r\n                      Mark Completed\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Issues */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h4 className=\"font-medium\">Issues & Risks</h4>\r\n            {isProjectApproved && actualWork.startDate && (\r\n              <button \r\n                onClick={() => document.getElementById('add-issue-modal').classList.remove('hidden')}\r\n                className=\"bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600 transition\"\r\n              >\r\n                Report Issue\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"space-y-3\">\r\n            {(actualWork.issues || []).map(issue => (\r\n              <div key={issue.id} className=\"border rounded-lg p-4\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <h5 className=\"font-medium\">Issue #{issue.id}</h5>\r\n                  <span className={`px-2 py-1 rounded-full text-xs ${getStatusColor(issue.status)}`}>\r\n                    {issue.status}\r\n                  </span>\r\n                </div>\r\n                <p className=\"mb-2\">{issue.description}</p>\r\n                <div className=\"text-sm text-gray-500 mb-2\">\r\n                  Reported by {issue.reported_by} on {issue.created_at ? new Date(issue.created_at).toLocaleDateString() : 'Unknown date'}\r\n                  {issue.resolved_at && ` | Resolved on ${new Date(issue.resolved_at).toLocaleDateString()}`}\r\n                </div>\r\n                {issue.resolution && (\r\n                  <div className=\"bg-green-50 p-3 rounded mt-2\">\r\n                    <p className=\"text-sm font-medium text-green-800\">Resolution:</p>\r\n                    <p className=\"text-sm text-green-700\">{issue.resolution}</p>\r\n                  </div>\r\n                )}\r\n                {issue.status === 'open' && canManage && (\r\n                  <div className=\"mt-3\">\r\n                    <textarea \r\n                      placeholder=\"Enter resolution...\"\r\n                      className=\"w-full p-2 border rounded text-sm\"\r\n                      rows=\"2\"\r\n                      id={`resolution-${issue.id}`}\r\n                    />\r\n                    <button \r\n                      onClick={() => {\r\n                        const resolution = document.getElementById(`resolution-${issue.id}`).value;\r\n                        if (resolution) resolveIssue(project.id, issue.id, resolution);\r\n                      }}\r\n                      className=\"mt-2 px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600 transition\"\r\n                    >\r\n                      Mark as Resolved\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Updates */}\r\n        <div>\r\n          <div className=\"flex justify-between items-center mb-4\">\r\n            <h4 className=\"font-medium\">Project Updates</h4>\r\n            {isProjectApproved && actualWork.startDate && canManage && (\r\n              <button \r\n                onClick={() => document.getElementById('add-update-modal').classList.remove('hidden')}\r\n                className=\"bg-purple-500 text-white px-3 py-1 rounded text-sm hover:bg-purple-600 transition\"\r\n              >\r\n                Add Update\r\n              </button>\r\n            )}\r\n          </div>\r\n          \r\n          <div className=\"space-y-3\">\r\n            {(actualWork.updates || []).map(update => (\r\n              <div key={update.id} className=\"border rounded-lg p-4 bg-gray-50\">\r\n                <div className=\"flex justify-between items-start mb-2\">\r\n                  <span className=\"font-medium\">{update.author}</span>\r\n                  <span className=\"text-sm text-gray-500\">{update.created_at ? new Date(update.created_at).toLocaleDateString() : 'Unknown date'}</span>\r\n                </div>\r\n                <p>{update.update_text}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Discussion Section\r\n  const DiscussionSection = ({ project }) => {\r\n    return (\r\n      <div className=\"mt-6\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Discussion</h3>\r\n        </div>\r\n        \r\n        <div className=\"space-y-4 mb-4 max-h-96 overflow-y-auto\">\r\n          {(project.discussions || []).map(discussion => (\r\n            <div key={discussion.id} className=\"border rounded-lg p-4 bg-gray-50\">\r\n              <div className=\"flex justify-between items-start mb-2\">\r\n                <div className=\"font-medium\">{discussion.user_name || 'Unknown User'}</div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  {discussion.created_at ? new Date(discussion.created_at).toLocaleString() : 'Unknown date'}\r\n                </div>\r\n              </div>\r\n              <p className=\"text-gray-700\">{discussion.comment}</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <div className=\"border-t pt-4\">\r\n          <textarea \r\n            value={newComment}\r\n            onChange={(e) => setNewComment(e.target.value)}\r\n            placeholder=\"Add a comment...\"\r\n            className=\"w-full p-3 border rounded-lg mb-3\"\r\n            rows=\"3\"\r\n          />\r\n          <button \r\n            onClick={() => addComment(project.id)}\r\n            disabled={!user}\r\n            className={`px-4 py-2 rounded hover:bg-blue-600 transition ${\r\n              user ? 'bg-blue-500 text-white hover:bg-blue-600' : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n            }`}\r\n          >\r\n            Post Comment\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Login Screen\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\r\n        <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-2xl\">\r\n          <div className=\"text-center mb-8\">\r\n            <div className=\"bg-blue-600 text-white p-3 rounded-lg inline-block mb-4\">\r\n              <svg className=\"w-12 h-12\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n              </svg>\r\n            </div>\r\n            <h1 className=\"text-2xl font-bold text-gray-900\">SI-Jari Proyek</h1>\r\n            <p className=\"text-gray-500\">Sistem Informasi Justifikasi Risiko Proyek</p>\r\n          </div>\r\n          \r\n          <div className=\"grid md:grid-cols-2 gap-8\">\r\n            {/* Login Form */}\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold mb-4 text-center\">Login</h2>\r\n              <form onSubmit={handleLogin} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\r\n                  <input \r\n                    type=\"email\"\r\n                    value={loginEmail}\r\n                    onChange={(e) => setLoginEmail(e.target.value)}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    placeholder=\"Enter your email\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\r\n                  <input \r\n                    type=\"password\"\r\n                    value={loginPassword}\r\n                    onChange={(e) => setLoginPassword(e.target.value)}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    placeholder=\"Enter your password\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-medium\"\r\n                >\r\n                  Sign In\r\n                </button>\r\n              </form>\r\n            </div>\r\n            \r\n            {/* Signup Form */}\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold mb-4 text-center\">Create Account</h2>\r\n              <form onSubmit={handleSignup} className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Full Name</label>\r\n                  <input \r\n                    type=\"text\"\r\n                    value={signupData.name}\r\n                    onChange={(e) => setSignupData({...signupData, name: e.target.value})}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    placeholder=\"Enter your full name\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\r\n                  <input \r\n                    type=\"email\"\r\n                    value={signupData.email}\r\n                    onChange={(e) => setSignupData({...signupData, email: e.target.value})}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    placeholder=\"Enter your email\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\r\n                  <input \r\n                    type=\"password\"\r\n                    value={signupData.password}\r\n                    onChange={(e) => setSignupData({...signupData, password: e.target.value})}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                    placeholder=\"Enter your password\"\r\n                    required\r\n                  />\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Role</label>\r\n                  <select \r\n                    value={signupData.role}\r\n                    onChange={(e) => setSignupData({...signupData, role: e.target.value})}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  >\r\n                    {roles.map(role => (\r\n                      <option key={role} value={role}>{role}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Department</label>\r\n                  <select \r\n                    value={signupData.department}\r\n                    onChange={(e) => setSignupData({...signupData, department: e.target.value})}\r\n                    className=\"w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\r\n                  >\r\n                    {departments.map(dept => (\r\n                      <option key={dept} value={dept}>{dept}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <button \r\n                  type=\"submit\"\r\n                  className=\"w-full bg-green-600 text-white py-3 rounded-lg hover:bg-green-700 transition font-medium\"\r\n                >\r\n                  Create Account\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-8 p-4 bg-blue-50 rounded-lg\">\r\n            <p className=\"text-sm text-blue-800 text-center\">\r\n              Connected to Supabase: https://hjllwagynjjhifufvpvg.supabase.co\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-sm border-b\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"flex justify-between items-center py-4\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"bg-blue-600 text-white p-2 rounded-lg mr-3\">\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-xl font-bold text-gray-900\">SI-Jari Proyek</h1>\r\n                <p className=\"text-sm text-gray-500\">Sistem Informasi Justifikasi Risiko Proyek</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex items-center space-x-4\">\r\n              {user && (\r\n                <>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"font-medium\">{user.email}</p>\r\n                    <p className=\"text-sm text-gray-500\">User ID: {user.id}</p>\r\n                  </div>\r\n                  <div className=\"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold\">\r\n                    {user.email.split('@')[0].charAt(0).toUpperCase()}\r\n                  </div>\r\n                  <button \r\n                    onClick={handleLogout}\r\n                    className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Navigation */}\r\n      {user && (\r\n        <nav className=\"bg-white shadow-sm\">\r\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex space-x-8\">\r\n              <button \r\n                onClick={() => setActiveTab('dashboard')}\r\n                className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                  activeTab === 'dashboard' \r\n                    ? 'border-blue-500 text-blue-600' \r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                Dashboard\r\n              </button>\r\n              <button \r\n                onClick={() => setActiveTab('submit')}\r\n                className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                  activeTab === 'submit' \r\n                    ? 'border-blue-500 text-blue-600' \r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                Submit Project\r\n              </button>\r\n              <button \r\n                onClick={() => setActiveTab('history')}\r\n                className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                  activeTab === 'history' \r\n                    ? 'border-blue-500 text-blue-600' \r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                History & Archive\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      {user && (\r\n        <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n          {activeTab === 'dashboard' && (\r\n            <div>\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900\">Project Dashboard</h2>\r\n                <div className=\"flex space-x-2\">\r\n                  <select className=\"border rounded px-3 py-2\">\r\n                    <option>All Status</option>\r\n                    <option>Pending Review</option>\r\n                    <option>Approved</option>\r\n                    <option>In Progress</option>\r\n                    <option>Completed</option>\r\n                    <option>Rejected</option>\r\n                  </select>\r\n                  <select className=\"border rounded px-3 py-2\">\r\n                    <option>All Departments</option>\r\n                    {departments.map(dept => (\r\n                      <option key={dept}>{dept}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n                <div className=\"bg-white rounded-lg shadow p-6\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"bg-blue-100 p-3 rounded-full\">\r\n                      <svg className=\"w-6 h-6 text-blue-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <p className=\"text-sm font-medium text-gray-600\">Pending Review</p>\r\n                      <p className=\"text-2xl font-semibold text-gray-900\">\r\n                        {projects.filter(p => getProjectStatus(p) === 'pending_review').length}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg shadow p-6\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"bg-green-100 p-3 rounded-full\">\r\n                      <svg className=\"w-6 h-6 text-green-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <p className=\"text-sm font-medium text-gray-600\">Approved</p>\r\n                      <p className=\"text-2xl font-semibold text-gray-900\">\r\n                        {projects.filter(p => getProjectStatus(p) === 'approved').length}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg shadow p-6\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"bg-purple-100 p-3 rounded-full\">\r\n                      <svg className=\"w-6 h-6 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <p className=\"text-sm font-medium text-gray-600\">In Progress</p>\r\n                      <p className=\"text-2xl font-semibold text-gray-900\">\r\n                        {projects.filter(p => getProjectStatus(p) === 'in_progress').length}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-white rounded-lg shadow p-6\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"bg-gray-100 p-3 rounded-full\">\r\n                      <svg className=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <p className=\"text-sm font-medium text-gray-600\">Total Projects</p>\r\n                      <p className=\"text-2xl font-semibold text-gray-900\">{projects.length}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n                <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">Current Projects</h3>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Project</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Department</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Budget</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Progress</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                      {projects.map(project => (\r\n                        <tr key={project.id} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"text-sm font-medium text-gray-900\">{project.title}</div>\r\n                            <div className=\"text-sm text-gray-500\">Submitted by {project.submitter}</div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{project.department}</td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">${(project.budget || 0).toLocaleString()}</td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"w-24 bg-gray-200 rounded-full h-2\">\r\n                              <div \r\n                                className=\"bg-blue-600 h-2 rounded-full\"\r\n                                style={{ width: `${project.actualWork?.progress || 0}%` }}\r\n                              ></div>\r\n                            </div>\r\n                            <span className=\"text-xs text-gray-500\">{project.actualWork?.progress || 0}%</span>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(getProjectStatus(project))}`}>\r\n                              {getProjectStatus(project).replace('_', ' ')}\r\n                            </span>\r\n                            {project.actualWork?.startDate && (\r\n                              <div className=\"text-xs text-gray-500 mt-1\">\r\n                                {project.actualWork?.endDate ? 'Completed' : 'In Progress'}\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                            <button \r\n                              onClick={() => setSelectedProject(project)}\r\n                              className=\"text-blue-600 hover:text-blue-900 mr-3\"\r\n                            >\r\n                              View Details\r\n                            </button>\r\n                            {canManageProject(project) && getProjectStatus(project) === 'pending_review' && (\r\n                              <button className=\"text-gray-600 hover:text-gray-900\">\r\n                                Edit\r\n                              </button>\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'submit' && (\r\n            <div className=\"max-w-3xl mx-auto\">\r\n              <div className=\"bg-white rounded-lg shadow p-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Submit New Project</h2>\r\n                \r\n                <form onSubmit={handleProjectSubmission} className=\"space-y-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Project Title</label>\r\n                    <input \r\n                      type=\"text\" \r\n                      value={newProject.title}\r\n                      onChange={(e) => setNewProject({...newProject, title: e.target.value})}\r\n                      className=\"w-full p-3 border rounded-lg\"\r\n                      placeholder=\"Enter project title\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Department</label>\r\n                    <select \r\n                      value={newProject.department}\r\n                      onChange={(e) => setNewProject({...newProject, department: e.target.value})}\r\n                      className=\"w-full p-3 border rounded-lg\"\r\n                      required\r\n                    >\r\n                      <option value=\"\">Select Department</option>\r\n                      {departments.map(dept => (\r\n                        <option key={dept} value={dept}>{dept}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Project Description</label>\r\n                    <textarea \r\n                      value={newProject.description}\r\n                      onChange={(e) => setNewProject({...newProject, description: e.target.value})}\r\n                      className=\"w-full p-3 border rounded-lg\"\r\n                      rows=\"4\"\r\n                      placeholder=\"Describe your project, objectives, and expected outcomes\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Estimated Budget ($)</label>\r\n                      <input \r\n                        type=\"number\" \r\n                        value={newProject.budget}\r\n                        onChange={(e) => setNewProject({...newProject, budget: e.target.value})}\r\n                        className=\"w-full p-3 border rounded-lg\"\r\n                        placeholder=\"0\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                    \r\n                    <div>\r\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">Timeline</label>\r\n                      <input \r\n                        type=\"text\" \r\n                        value={newProject.timeline}\r\n                        onChange={(e) => setNewProject({...newProject, timeline: e.target.value})}\r\n                        className=\"w-full p-3 border rounded-lg\"\r\n                        placeholder=\"e.g., 6 months\"\r\n                        required\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-end space-x-4 pt-4\">\r\n                    <button \r\n                      type=\"button\"\r\n                      onClick={() => setActiveTab('dashboard')}\r\n                      className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50\"\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button \r\n                      type=\"submit\"\r\n                      className=\"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700\"\r\n                    >\r\n                      Submit Project\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {activeTab === 'history' && (\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900 mb-6\">Project History & Archive</h2>\r\n              \r\n              <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n                <div className=\"px-6 py-4 border-b border-gray-200\">\r\n                  <h3 className=\"text-lg font-medium text-gray-900\">All Projects</h3>\r\n                </div>\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full divide-y divide-gray-200\">\r\n                    <thead className=\"bg-gray-50\">\r\n                      <tr>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Project</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Submitted</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Department</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Progress</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Final Status</th>\r\n                        <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                      {projects.map(project => (\r\n                        <tr key={project.id} className=\"hover:bg-gray-50\">\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"text-sm font-medium text-gray-900\">{project.title}</div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                            {project.created_at ? new Date(project.created_at).toLocaleDateString() : 'Unknown'}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{project.department}</td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <div className=\"w-16 bg-gray-200 rounded-full h-2\">\r\n                              <div \r\n                                className=\"bg-blue-600 h-2 rounded-full\"\r\n                                style={{ width: `${project.actualWork?.progress || 0}%` }}\r\n                              ></div>\r\n                            </div>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                            <span className={`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${getStatusColor(getProjectStatus(project))}`}>\r\n                              {getProjectStatus(project).replace('_', ' ')}\r\n                            </span>\r\n                            {project.actualWork?.endDate && (\r\n                              <div className=\"text-xs text-gray-500 mt-1\">Completed</div>\r\n                            )}\r\n                          </td>\r\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                            <button \r\n                              onClick={() => setSelectedProject(project)}\r\n                              className=\"text-blue-600 hover:text-blue-900\"\r\n                            >\r\n                              View Details\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </main>\r\n      )}\r\n\r\n      {/* Project Detail Modal */}\r\n      {selectedProject && user && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-screen overflow-y-auto\">\r\n            <div className=\"flex justify-between items-center p-6 border-b\">\r\n              <h2 className=\"text-xl font-bold\">{selectedProject.title}</h2>\r\n              <button \r\n                onClick={() => setSelectedProject(null)}\r\n                className=\"text-gray-400 hover:text-gray-600\"\r\n              >\r\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"p-6\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\r\n                <div>\r\n                  <h3 className=\"text-sm font-medium text-gray-500\">Description</h3>\r\n                  <p className=\"mt-1 text-gray-900\">{selectedProject.description}</p>\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-sm font-medium text-gray-500\">Submitted By</h3>\r\n                  <p className=\"mt-1 text-gray-900\">{selectedProject.submitter}</p>\r\n                  <p className=\"text-sm text-gray-500\">Department: {selectedProject.department}</p>\r\n                  <p className=\"text-sm text-gray-500\">\r\n                    Date: {selectedProject.created_at ? new Date(selectedProject.created_at).toLocaleDateString() : 'Unknown'}\r\n                  </p>\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-sm font-medium text-gray-500\">Budget</h3>\r\n                  <p className=\"mt-1 text-gray-900\">${(selectedProject.budget || 0).toLocaleString()}</p>\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-sm font-medium text-gray-500\">Timeline</h3>\r\n                  <p className=\"mt-1 text-gray-900\">{selectedProject.timeline}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <WorkflowVisualization project={selectedProject} />\r\n              \r\n              <RiskAnalysisSection \r\n                project={selectedProject} \r\n                isEditable={user && !canManageProject(selectedProject)}\r\n              />\r\n              \r\n              <ActualWorkTracking project={selectedProject} />\r\n              \r\n              {/* Review Actions - Only show for reviewers */}\r\n              {canReviewProject(selectedProject) && (\r\n                <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n                  <h3 className=\"text-lg font-semibold mb-4\">Your Review</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <textarea \r\n                      placeholder=\"Add your comments or feedback...\"\r\n                      className=\"w-full p-3 border rounded-lg\"\r\n                      rows=\"3\"\r\n                      id=\"review-comment\"\r\n                    />\r\n                    <div className=\"flex space-x-4\">\r\n                      <button \r\n                        onClick={() => {\r\n                          const comment = document.getElementById('review-comment').value;\r\n                          handleReviewAction(selectedProject.id, 'approved', comment || 'Approved with no concerns');\r\n                        }}\r\n                        className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\"\r\n                      >\r\n                        Approve\r\n                      </button>\r\n                      <button \r\n                        onClick={() => {\r\n                          const comment = document.getElementById('review-comment').value;\r\n                          handleReviewAction(selectedProject.id, 'rejected', comment || 'Rejected due to concerns');\r\n                        }}\r\n                        className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition\"\r\n                      >\r\n                        Reject\r\n                      </button>\r\n                      <button \r\n                        onClick={() => {\r\n                          const comment = document.getElementById('review-comment').value;\r\n                          handleReviewAction(selectedProject.id, 'needs_info', comment || 'Needs more information');\r\n                        }}\r\n                        className=\"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition\"\r\n                      >\r\n                        Request More Info\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Director Actions */}\r\n              {user && (\r\n                <div className=\"mt-6 p-4 bg-blue-50 rounded-lg\">\r\n                  <h3 className=\"text-lg font-semibold mb-4\">Director Decision</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <textarea \r\n                      placeholder=\"Add your decision comments...\"\r\n                      className=\"w-full p-3 border rounded-lg\"\r\n                      rows=\"3\"\r\n                      id=\"director-comment\"\r\n                    />\r\n                    <div className=\"flex space-x-4\">\r\n                      <button \r\n                        onClick={() => {\r\n                          const comment = document.getElementById('director-comment').value;\r\n                          handleDirectorAction(selectedProject.id, 'approved', comment || 'Project approved');\r\n                        }}\r\n                        className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition\"\r\n                      >\r\n                        Approve Project\r\n                      </button>\r\n                      <button \r\n                        onClick={() => {\r\n                          const comment = document.getElementById('director-comment').value;\r\n                          handleDirectorAction(selectedProject.id, 'rejected', comment || 'Project rejected');\r\n                        }}\r\n                        className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition\"\r\n                      >\r\n                        Reject Project\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              <DiscussionSection project={selectedProject} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Milestone Modal */}\r\n      {user && (\r\n        <div id=\"add-milestone-modal\" className=\"hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Add New Milestone</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Milestone Name</label>\r\n                <input \r\n                  type=\"text\"\r\n                  value={newMilestone.name}\r\n                  onChange={(e) => setNewMilestone({...newMilestone, name: e.target.value})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  placeholder=\"Enter milestone name\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Due Date</label>\r\n                <input \r\n                  type=\"date\"\r\n                  value={newMilestone.dueDate}\r\n                  onChange={(e) => setNewMilestone({...newMilestone, dueDate: e.target.value})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\r\n                <textarea \r\n                  value={newMilestone.description}\r\n                  onChange={(e) => setNewMilestone({...newMilestone, description: e.target.value})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  rows=\"3\"\r\n                  placeholder=\"Describe this milestone\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end space-x-3 mt-6\">\r\n              <button \r\n                onClick={() => {\r\n                  document.getElementById('add-milestone-modal').classList.add('hidden');\r\n                  setNewMilestone({ name: '', dueDate: '', description: '' });\r\n                }}\r\n                className=\"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                onClick={() => {\r\n                  addMilestone(selectedProject.id);\r\n                  document.getElementById('add-milestone-modal').classList.add('hidden');\r\n                }}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n              >\r\n                Add Milestone\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Issue Modal */}\r\n      {user && (\r\n        <div id=\"add-issue-modal\" className=\"hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Report New Issue</h3>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Issue Description</label>\r\n                <textarea \r\n                  value={newIssue.description}\r\n                  onChange={(e) => setNewIssue({...newIssue, description: e.target.value})}\r\n                  className=\"w-full p-2 border rounded\"\r\n                  rows=\"3\"\r\n                  placeholder=\"Describe the issue\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"flex justify-end space-x-3 mt-6\">\r\n              <button \r\n                onClick={() => {\r\n                  document.getElementById('add-issue-modal').classList.add('hidden');\r\n                  setNewIssue({ description: '' });\r\n                }}\r\n                className=\"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                onClick={() => {\r\n                  addIssue(selectedProject.id);\r\n                  document.getElementById('add-issue-modal').classList.add('hidden');\r\n                }}\r\n                className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n              >\r\n                Report Issue\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Add Update Modal */}\r\n      {user && (\r\n        <div id=\"add-update-modal\" className=\"hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">Add Project Update</h3>\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Update Description</label>\r\n              <textarea \r\n                value={newUpdate}\r\n                onChange={(e) => setNewUpdate(e.target.value)}\r\n                className=\"w-full p-2 border rounded\"\r\n                rows=\"4\"\r\n                placeholder=\"Describe the latest update on the project\"\r\n              />\r\n            </div>\r\n            <div className=\"flex justify-end space-x-3 mt-6\">\r\n              <button \r\n                onClick={() => {\r\n                  document.getElementById('add-update-modal').classList.add('hidden');\r\n                  setNewUpdate('');\r\n                }}\r\n                className=\"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button \r\n                onClick={() => {\r\n                  addUpdate(selectedProject.id);\r\n                  document.getElementById('add-update-modal').classList.add('hidden');\r\n                }}\r\n                className=\"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700\"\r\n              >\r\n                Post Update\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}